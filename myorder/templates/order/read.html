{% extends 'common/base.html' %}
{% block title %}[글쓰기]{% endblock title %}

{% block body %}
  <section class="flex flex-col gap-2">
    <p>글번호:
      {{o.id}}</p>
    <a class="cursor-pointer hover:bg-gray-400">
      <span>전체상품:</span>
      {% for o in oList%}
        <p>{{o}}</p>
      {% endfor %}
    </a>
    <p>가격:
      {{o.price}}</p>
    <p>글쓴이:
      {{o.address}}</p>
    <p>주문일시:
      {{o.order_date}}</p>
  </section>
  <div class="flex flex-row gap-4">
    <!--auther.username 는 user하고 비교한다-->
    {% if o.author.username == user.username %}
      <a href="{%url 'order:update' o.id %}">수정</a>
      <a href="{%url 'order:delete' o.id %}">삭제</a>
    {% endif %}
    <a href="{% url 'order:index' %}" class="bg-gray-400">목록으로</a>
  </div>
  <div id="replyArea">
    {# 댓글 목록 표시할 곳#}
    <div>
      {# order 객체 뿐만 아니라 order와 FK로 엮인 객체는 o.모델이름_set으로 가져올수있다 #}
      {% if o.reply_set %}
        {% for r in o.reply_set.all %}
          {{r}}
        {% endfor %}
      {% else %}
        <p>등록된 댓글이 없습니다.</p>
      {% endif %}
    </div>
    {# 댓글 입력폼#}
    <div></div>
  </div>
{% endblock body %}